<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mobly.controllers package &mdash; Mobly  documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Mobly  documentation" href="index.html" />
    <link rel="up" title="mobly package" href="mobly.html" />
    <link rel="next" title="mobly.controllers.android_device_lib package" href="mobly.controllers.android_device_lib.html" />
    <link rel="prev" title="mobly package" href="mobly.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mobly-controllers-package">
<h1>mobly.controllers package<a class="headerlink" href="#mobly-controllers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mobly.controllers.android_device_lib.html">mobly.controllers.android_device_lib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.adb">mobly.controllers.android_device_lib.adb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.event_dispatcher">mobly.controllers.android_device_lib.event_dispatcher module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.fastboot">mobly.controllers.android_device_lib.fastboot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.jsonrpc_client_base">mobly.controllers.android_device_lib.jsonrpc_client_base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.jsonrpc_shell_base">mobly.controllers.android_device_lib.jsonrpc_shell_base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.sl4a_client">mobly.controllers.android_device_lib.sl4a_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib.snippet_client">mobly.controllers.android_device_lib.snippet_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.android_device_lib.html#module-mobly.controllers.android_device_lib">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mobly.controllers.attenuator_lib.html">mobly.controllers.attenuator_lib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.attenuator_lib.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.attenuator_lib.html#module-mobly.controllers.attenuator_lib.minicircuits">mobly.controllers.attenuator_lib.minicircuits module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.attenuator_lib.html#module-mobly.controllers.attenuator_lib.telnet_scpi_client">mobly.controllers.attenuator_lib.telnet_scpi_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.attenuator_lib.html#module-mobly.controllers.attenuator_lib">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mobly.controllers.sniffer_lib.html">mobly.controllers.sniffer_lib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.sniffer_lib.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mobly.controllers.sniffer_lib.local.html">mobly.controllers.sniffer_lib.local package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mobly.controllers.sniffer_lib.local.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mobly.controllers.sniffer_lib.local.html#module-mobly.controllers.sniffer_lib.local.local_base">mobly.controllers.sniffer_lib.local.local_base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mobly.controllers.sniffer_lib.local.html#module-mobly.controllers.sniffer_lib.local.tcpdump">mobly.controllers.sniffer_lib.local.tcpdump module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mobly.controllers.sniffer_lib.local.html#module-mobly.controllers.sniffer_lib.local.tshark">mobly.controllers.sniffer_lib.local.tshark module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mobly.controllers.sniffer_lib.local.html#module-mobly.controllers.sniffer_lib.local">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mobly.controllers.sniffer_lib.html#module-mobly.controllers.sniffer_lib">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mobly.controllers.android_device">
<span id="mobly-controllers-android-device-module"></span><h2>mobly.controllers.android_device module<a class="headerlink" href="#module-mobly.controllers.android_device" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mobly.controllers.android_device.AndroidDevice">
<em class="property">class </em><code class="descclassname">mobly.controllers.android_device.</code><code class="descname">AndroidDevice</code><span class="sig-paren">(</span><em>serial=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class representing an android device.</p>
<p>Each object of this class represents one Android device in Mobly. This class
provides various ways, like adb, fastboot, sl4a, and snippets, to control an
Android device, whether it&#8217;s a real device or an emulator instance.</p>
<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.serial">
<code class="descname">serial</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.serial" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that&#8217;s the serial number of the Androi device.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.log_path">
<code class="descname">log_path</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.log_path" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that is the path where all logs collected on this
android device should be stored.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.log">
<code class="descname">log</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.log" title="Permalink to this definition">¶</a></dt>
<dd><p>A logger adapted from root logger with an added prefix specific
to an AndroidDevice instance. The default prefix is
[AndroidDevice|&lt;serial&gt;]. Use self.debug_tag = &#8216;tag&#8217; to use a
different tag in the prefix.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.adb_logcat_file_path">
<code class="descname">adb_logcat_file_path</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.adb_logcat_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that&#8217;s the full path to the adb logcat
file collected, if any.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.adb">
<code class="descname">adb</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.adb" title="Permalink to this definition">¶</a></dt>
<dd><p>An AdbProxy object used for interacting with the device via adb.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.fastboot">
<code class="descname">fastboot</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.fastboot" title="Permalink to this definition">¶</a></dt>
<dd><p>A FastbootProxy object used for interacting with the device
via fastboot.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.build_info">
<code class="descname">build_info</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.build_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the build info of this Android device, including build id and
build type.</p>
<p>This is not available if the device is in bootloader mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dict with the build info of this Android device, or None if the
device is in bootloader mode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.cat_adb_log">
<code class="descname">cat_adb_log</code><span class="sig-paren">(</span><em>tag</em>, <em>begin_time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.cat_adb_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.cat_adb_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an excerpt of the adb logcat log from a certain time point to
current time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tag</strong> &#8211; An identifier of the time period, usualy the name of a test.</li>
<li><strong>begin_time</strong> &#8211; Logline format timestamp of the beginning of the time
period.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.debug_tag">
<code class="descname">debug_tag</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.debug_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that represents a device object in debug info. Default value
is the device serial.</p>
<p>This will be used as part of the prefix of debugging messages emitted by
this device object, like log lines and the message of DeviceError.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.handle_reboot">
<code class="descname">handle_reboot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.handle_reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.handle_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Properly manage the service life cycle when the device needs to
temporarily disconnect.</p>
<p>The device can temporarily lose adb connection due to user-triggered
reboot. Use this function to make sure the services
started by Mobly are properly stopped and restored afterwards.</p>
<p>For sample usage, see self.reboot().</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.handle_usb_disconnect">
<code class="descname">handle_usb_disconnect</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.handle_usb_disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.handle_usb_disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Properly manage the service life cycle when USB is disconnected.</p>
<p>The device can temporarily lose adb connection due to user-triggered
USB disconnection, e.g. the following cases can be handled by this
method:</p>
<ul>
<li><dl class="first docutils">
<dt>Power measurement: Using Monsoon device to measure battery consumption</dt>
<dd><p class="first last">would potentially disconnect USB.</p>
</dd>
</dl>
</li>
<li><p class="first">Unplug USB so device loses connection.</p>
</li>
<li><p class="first">ADB connection over WiFi and WiFi got disconnected.</p>
</li>
<li><dl class="first docutils">
<dt>Any other type of USB disconnection, as long as snippet session can be</dt>
<dd><p class="first last">kept alive while USB disconnected (reboot caused USB disconnection is
not one of these cases because snippet session cannot survive reboot.
Use handle_reboot() instead).</p>
</dd>
</dl>
</li>
</ul>
<p>Use this function to make sure the services started by Mobly are
properly reconnected afterwards.</p>
<p>Just like the usage of self.handle_reboot(), this method does not
automatically detect if the disconnection is because of a reboot or USB
disconnect. Users of this function should make sure the right handle_*
function is used to handle the correct type of disconnection.</p>
<p>This method also reconnects snippet event client. Therefore, the
callback objects created (by calling Async RPC methods) before
disconnection would still be valid and can be used to retrieve RPC
execution result after device got reconnected.</p>
<dl class="docutils">
<dt>Example Usage:</dt>
<dd><dl class="first last docutils">
<dt>with ad.handle_usb_disconnect():</dt>
<dd><dl class="first last docutils">
<dt>try:</dt>
<dd># User action that triggers USB disconnect, could throw
# exceptions.
do_something()</dd>
<dt>finally:</dt>
<dd># User action that triggers USB reconnect
action_that_reconnects_usb()
# Make sure device is reconnected before returning from this
# context
ad.adb.wait_for_device(timeout=SOME_TIMEOUT)</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.is_adb_detectable">
<code class="descname">is_adb_detectable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.is_adb_detectable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.is_adb_detectable" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if USB is on and device is ready by verifying adb devices.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.is_adb_root">
<code class="descname">is_adb_root</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.is_adb_root" title="Permalink to this definition">¶</a></dt>
<dd><p>True if adb is running as root for this device.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.is_boot_completed">
<code class="descname">is_boot_completed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.is_boot_completed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.is_boot_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if device boot is completed by verifying system property.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.is_bootloader">
<code class="descname">is_bootloader</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.is_bootloader" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the device is in bootloader mode.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.is_rootable">
<code class="descname">is_rootable</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.is_rootable" title="Permalink to this definition">¶</a></dt>
<dd><p>If the build type is &#8216;user&#8217;, the device is not rootable.</p>
<p>Other possible build types are &#8216;userdebug&#8217; and &#8216;eng&#8217;, both are rootable.
We are checking the last four chars of the clean stdout because the
stdout of the adb command could be polluted with other info like adb
server startup message.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.load_config">
<code class="descname">load_config</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Add attributes to the AndroidDevice object based on config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> &#8211; A dictionary representing the configs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#mobly.controllers.android_device.Error" title="mobly.controllers.android_device.Error"><code class="xref py py-exc docutils literal"><span class="pre">Error</span></code></a> &#8211;
It is raised if the config is trying to overwrite
an existing attribute.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.load_sl4a">
<code class="descname">load_sl4a</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.load_sl4a"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.load_sl4a" title="Permalink to this definition">¶</a></dt>
<dd><p>Start sl4a service on the Android device.</p>
<p>Launch sl4a server if not already running, spin up a session on the
server, and two connections to this session.</p>
<p>Creates an sl4a client (self.sl4a) with one connection, and one
EventDispatcher obj (self.ed) with the other connection.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.load_snippet">
<code class="descname">load_snippet</code><span class="sig-paren">(</span><em>name</em>, <em>package</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.load_snippet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.load_snippet" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the snippet apk with the given package name and connects.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">load_snippet</span><span class="p">(</span>
<span class="go">        name=&#39;maps&#39;, package=&#39;com.google.maps.snippets&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">maps</span><span class="o">.</span><span class="n">activateZoom</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; The attribute name to which to attach the snippet server.
e.g. name=&#8217;maps&#8217; will attach the snippet server to ad.maps.</li>
<li><strong>package</strong> &#8211; The package name defined in AndroidManifest.xml of the
snippet apk.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#mobly.controllers.android_device.SnippetError" title="mobly.controllers.android_device.SnippetError"><code class="xref py py-exc docutils literal"><span class="pre">SnippetError</span></code></a> &#8211;
It is raised if illegal load operations are attempted.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.android_device.AndroidDevice.model">
<code class="descname">model</code><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.model" title="Permalink to this definition">¶</a></dt>
<dd><p>The Android code name for the device.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.reboot">
<code class="descname">reboot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Reboots the device.</p>
<p>Terminate all sl4a sessions, reboot the device, wait for device to
complete booting, and restart an sl4a session.</p>
<p>This is a blocking method.</p>
<p>This is probably going to print some error messages in console. Only
use if there&#8217;s no other option.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#mobly.controllers.android_device.Error" title="mobly.controllers.android_device.Error"><code class="xref py py-exc docutils literal"><span class="pre">Error</span></code></a> &#8211;
It is raised if waiting for completion timed out.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.root_adb">
<code class="descname">root_adb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.root_adb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.root_adb" title="Permalink to this definition">¶</a></dt>
<dd><p>Change adb to root mode for this device if allowed.</p>
<p>If executed on a production build, adb will not be switched to root
mode per security restrictions.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.run_iperf_client">
<code class="descname">run_iperf_client</code><span class="sig-paren">(</span><em>server_host</em>, <em>extra_args=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.run_iperf_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.run_iperf_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Start iperf client on the device.</p>
<p>Return status as true if iperf client start successfully.
And data flow information as results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>server_host</strong> &#8211; Address of the iperf server.</li>
<li><strong>extra_args</strong> &#8211; A string representing extra arguments for iperf client,
e.g. &#8216;-i 1 -t 30&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">true if iperf client start successfully.
results: results have data flow information</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#mobly.controllers.monsoon.Monsoon.status" title="mobly.controllers.monsoon.Monsoon.status">status</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.start_adb_logcat">
<code class="descname">start_adb_logcat</code><span class="sig-paren">(</span><em>clear_log=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.start_adb_logcat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.start_adb_logcat" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a standing adb logcat collection in separate subprocesses and
save the logcat in a file.</p>
<p>This clears the previous cached logcat content on device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>clear</strong> &#8211; If True, clear device log before starting logcat.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.start_services">
<code class="descname">start_services</code><span class="sig-paren">(</span><em>clear_log=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.start_services"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.start_services" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts long running services on the android device, like adb logcat
capture.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.stop_adb_logcat">
<code class="descname">stop_adb_logcat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.stop_adb_logcat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.stop_adb_logcat" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the adb logcat collection subprocess.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#mobly.controllers.android_device.DeviceError" title="mobly.controllers.android_device.DeviceError"><code class="xref py py-exc docutils literal"><span class="pre">DeviceError</span></code></a> &#8211;
raised if there&#8217;s no adb logcat collection going on.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.stop_services">
<code class="descname">stop_services</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.stop_services"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.stop_services" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops long running services on the Android device.</p>
<p>Stop adb logcat, terminate sl4a sessions if exist, terminate all
snippet clients.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dict containing information on the running services before they
are torn down. This can be used to restore these services, which
includes snippets and sl4a.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.take_bug_report">
<code class="descname">take_bug_report</code><span class="sig-paren">(</span><em>test_name</em>, <em>begin_time</em>, <em>timetout=300</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.take_bug_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.take_bug_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a bug report on the device and stores it in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>test_name</strong> &#8211; Name of the test method that triggered this bug report.</li>
<li><strong>begin_time</strong> &#8211; Timestamp of when the test started.</li>
<li><strong>timeout</strong> &#8211; float, the number of seconds to wait for bugreport to
complete, default is 5min.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDevice.wait_for_boot_completion">
<code class="descname">wait_for_boot_completion</code><span class="sig-paren">(</span><em>timeout=900</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDevice.wait_for_boot_completion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDevice.wait_for_boot_completion" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for Android framework to broadcast ACTION_BOOT_COMPLETED.</p>
<p>This function times out after 15 minutes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> &#8211; float, the number of seconds to wait before timing out.
If not specified, no timeout takes effect.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mobly.controllers.android_device.AndroidDeviceLoggerAdapter">
<em class="property">class </em><code class="descclassname">mobly.controllers.android_device.</code><code class="descname">AndroidDeviceLoggerAdapter</code><span class="sig-paren">(</span><em>logger</em>, <em>extra</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDeviceLoggerAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDeviceLoggerAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">logging.LoggerAdapter</span></code></p>
<p>A wrapper class that adds a prefix to each log line.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_log</span> <span class="o">=</span> <span class="n">AndroidDeviceLoggerAdapter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(),</span> <span class="p">{</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">custom</span> <span class="n">tag</span><span class="o">&gt;</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Then each log line added by my_log will have a prefix
&#8216;[AndroidDevice|&lt;tag&gt;]&#8217;</p>
<dl class="method">
<dt id="mobly.controllers.android_device.AndroidDeviceLoggerAdapter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>msg</em>, <em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#AndroidDeviceLoggerAdapter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.AndroidDeviceLoggerAdapter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.android_device.DeviceError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.android_device.</code><code class="descname">DeviceError</code><span class="sig-paren">(</span><em>ad</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#DeviceError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.DeviceError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mobly.controllers.android_device.Error" title="mobly.controllers.android_device.Error"><code class="xref py py-class docutils literal"><span class="pre">mobly.controllers.android_device.Error</span></code></a></p>
<p>Raised for errors from within an AndroidDevice object.</p>
</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.android_device.Error">
<em class="property">exception </em><code class="descclassname">mobly.controllers.android_device.</code><code class="descname">Error</code><a class="reference internal" href="_modules/mobly/controllers/android_device.html#Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mobly.html#mobly.signals.ControllerError" title="mobly.signals.ControllerError"><code class="xref py py-class docutils literal"><span class="pre">mobly.signals.ControllerError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.android_device.SnippetError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.android_device.</code><code class="descname">SnippetError</code><span class="sig-paren">(</span><em>ad</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#SnippetError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.SnippetError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mobly.controllers.android_device.DeviceError" title="mobly.controllers.android_device.DeviceError"><code class="xref py py-class docutils literal"><span class="pre">mobly.controllers.android_device.DeviceError</span></code></a></p>
<p>Raised for errors related to Mobly snippet.</p>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.create">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">create</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates AndroidDevice controller objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> &#8211; A list of dicts, each representing a configuration for an
Android device.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of AndroidDevice objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.destroy">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">destroy</code><span class="sig-paren">(</span><em>ads</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up AndroidDevice objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ads</strong> &#8211; A list of AndroidDevice objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.filter_devices">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">filter_devices</code><span class="sig-paren">(</span><em>ads</em>, <em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#filter_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.filter_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the AndroidDevice instances from a list that match certain
conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ads</strong> &#8211; A list of AndroidDevice instances.</li>
<li><strong>func</strong> &#8211; A function that takes an AndroidDevice object and returns True
if the device satisfies the filter condition.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of AndroidDevice instances that satisfy the filter condition.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.get_all_instances">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">get_all_instances</code><span class="sig-paren">(</span><em>include_fastboot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#get_all_instances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.get_all_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Create AndroidDevice instances for all attached android devices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>include_fastboot</strong> &#8211; Whether to include devices in bootloader mode or not.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of AndroidDevice objects each representing an android device
attached to the computer.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.get_device">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">get_device</code><span class="sig-paren">(</span><em>ads</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#get_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.get_device" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a unique AndroidDevice instance from a list that has specific
attributes of certain values.</p>
<p class="rubric">Example</p>
<p>get_device(android_devices, label=&#8217;foo&#8217;, phone_number=&#8216;1234567890&#8217;)
get_device(android_devices, model=&#8217;angler&#8217;)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ads</strong> &#8211; A list of AndroidDevice instances.</li>
<li><strong>kwargs</strong> &#8211; keyword arguments used to filter AndroidDevice instances.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The target AndroidDevice instance.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#mobly.controllers.android_device.Error" title="mobly.controllers.android_device.Error"><code class="xref py py-exc docutils literal"><span class="pre">Error</span></code></a> &#8211;
It is raised if none or more than one device is
matched.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.get_info">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">get_info</code><span class="sig-paren">(</span><em>ads</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#get_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.get_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information on a list of AndroidDevice objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ads</strong> &#8211; A list of AndroidDevice objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of dict, each representing info for an AndroidDevice objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.get_instances">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">get_instances</code><span class="sig-paren">(</span><em>serials</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#get_instances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.get_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Create AndroidDevice instances from a list of serials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>serials</strong> &#8211; A list of android device serials.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of AndroidDevice objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.get_instances_with_configs">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">get_instances_with_configs</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#get_instances_with_configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.get_instances_with_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create AndroidDevice instances from a list of dict configs.</p>
<p>Each config should have the required key-value pair &#8216;serial&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configs</strong> &#8211; A list of dicts each representing the configuration of one
android device.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of AndroidDevice objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.list_adb_devices">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">list_adb_devices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#list_adb_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.list_adb_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>List all android devices connected to the computer that are detected by
adb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of android device serials. Empty if there&#8217;s none.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.list_adb_devices_by_usb_id">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">list_adb_devices_by_usb_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#list_adb_devices_by_usb_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.list_adb_devices_by_usb_id" title="Permalink to this definition">¶</a></dt>
<dd><p>List the usb id of all android devices connected to the computer that
are detected by adb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of strings that are android device usb ids. Empty if there&#8217;s
none.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.list_fastboot_devices">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">list_fastboot_devices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#list_fastboot_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.list_fastboot_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>List all android devices connected to the computer that are in in
fastboot mode. These are detected by fastboot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of android device serials. Empty if there&#8217;s none.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.android_device.take_bug_reports">
<code class="descclassname">mobly.controllers.android_device.</code><code class="descname">take_bug_reports</code><span class="sig-paren">(</span><em>ads</em>, <em>test_name</em>, <em>begin_time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/android_device.html#take_bug_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.android_device.take_bug_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes bug reports on a list of android devices.</p>
<p>If you want to take a bug report, call this function with a list of
android_device objects in on_fail. But reports will be taken on all the
devices in the list concurrently. Bug report takes a relative long
time to take, so use this cautiously.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ads</strong> &#8211; A list of AndroidDevice instances.</li>
<li><strong>test_name</strong> &#8211; Name of the test method that triggered this bug report.</li>
<li><strong>begin_time</strong> &#8211; timestamp taken when the test started, can be either
string or int.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-mobly.controllers.attenuator">
<span id="mobly-controllers-attenuator-module"></span><h2>mobly.controllers.attenuator module<a class="headerlink" href="#module-mobly.controllers.attenuator" title="Permalink to this headline">¶</a></h2>
<p>Controller module for attenuators.</p>
<p>Sample Config:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s2">&quot;Attenuator&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.1.12&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;minicircuits&quot;</span><span class="p">,</span>
        <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;AP1-2G&quot;</span><span class="p">,</span> <span class="s2">&quot;AP1-5G&quot;</span><span class="p">,</span> <span class="s2">&quot;AP2-2G&quot;</span><span class="p">,</span> <span class="s2">&quot;AP2-5G&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.1.14&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;minicircuits&quot;</span><span class="p">,</span>
        <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;AP-DUT&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="class">
<dt id="mobly.controllers.attenuator.AttenuatorPath">
<em class="property">class </em><code class="descclassname">mobly.controllers.attenuator.</code><code class="descname">AttenuatorPath</code><span class="sig-paren">(</span><em>attenuation_device</em>, <em>idx=0</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#AttenuatorPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.AttenuatorPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A convenience class that allows users to control each attenuator path
separately as different objects, as opposed to passing in an index number
to the functions of an attenuator device object.</p>
<p>This decouples the test code from the actual attenuator device used in the
physical test bed.</p>
<p>For example, if a test needs to attenuate four signal paths, this allows the
test to do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">attenuation_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_atten</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">attenuation_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_atten</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
<p>instead of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">attenuators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_atten</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">attenuators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_atten</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
</pre></div>
</div>
<p>The benefit the former is that the physical test bed can use either four
single-channel attenuators, or one four-channel attenuators. Whereas the
latter forces the test bed to use a four-channel attenuator.</p>
<dl class="method">
<dt id="mobly.controllers.attenuator.AttenuatorPath.get_atten">
<code class="descname">get_atten</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#AttenuatorPath.get_atten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.AttenuatorPath.get_atten" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current attenuation setting of Attenuator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A float that is the current attenuation value. Unit is db.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.attenuator.AttenuatorPath.get_max_atten">
<code class="descname">get_max_atten</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#AttenuatorPath.get_max_atten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.AttenuatorPath.get_max_atten" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the max attenuation supported by the Attenuator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A float that is the max attenuation value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.attenuator.AttenuatorPath.set_atten">
<code class="descname">set_atten</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#AttenuatorPath.set_atten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.AttenuatorPath.set_atten" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets the attenuation of Attenuator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> &#8211; This is a floating point value for nominal attenuation to be
set. Unit is db.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.attenuator.Error">
<em class="property">exception </em><code class="descclassname">mobly.controllers.attenuator.</code><code class="descname">Error</code><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>This is the Exception class defined for all errors generated by
Attenuator-related modules.</p>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.attenuator.create">
<code class="descclassname">mobly.controllers.attenuator.</code><code class="descname">create</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mobly.controllers.attenuator.destroy">
<code class="descclassname">mobly.controllers.attenuator.</code><code class="descname">destroy</code><span class="sig-paren">(</span><em>objs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/attenuator.html#destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.attenuator.destroy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mobly.controllers.iperf_server">
<span id="mobly-controllers-iperf-server-module"></span><h2>mobly.controllers.iperf_server module<a class="headerlink" href="#module-mobly.controllers.iperf_server" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mobly.controllers.iperf_server.IPerfResult">
<em class="property">class </em><code class="descclassname">mobly.controllers.iperf_server.</code><code class="descname">IPerfResult</code><span class="sig-paren">(</span><em>result_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#IPerfResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="mobly.controllers.iperf_server.IPerfResult.avg_rate">
<code class="descname">avg_rate</code><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfResult.avg_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Average receiving rate in MB/s over the entire run.</p>
<p>If the result is not from a success run, this property is None.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.iperf_server.IPerfResult.avg_receive_rate">
<code class="descname">avg_receive_rate</code><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfResult.avg_receive_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Average receiving rate in MB/s over the entire run. This data may
not exist if iperf was interrupted.</p>
<p>If the result is not from a success run, this property is None.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.iperf_server.IPerfResult.avg_send_rate">
<code class="descname">avg_send_rate</code><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfResult.avg_send_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Average sending rate in MB/s over the entire run. This data may
not exist if iperf was interrupted.</p>
<p>If the result is not from a success run, this property is None.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.iperf_server.IPerfResult.error">
<code class="descname">error</code><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfResult.error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mobly.controllers.iperf_server.IPerfResult.get_json">
<code class="descname">get_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#IPerfResult.get_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfResult.get_json" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The raw json output from iPerf.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mobly.controllers.iperf_server.IPerfServer">
<em class="property">class </em><code class="descclassname">mobly.controllers.iperf_server.</code><code class="descname">IPerfServer</code><span class="sig-paren">(</span><em>port</em>, <em>log_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#IPerfServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that handles iperf3 operations.</p>
<dl class="method">
<dt id="mobly.controllers.iperf_server.IPerfServer.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>extra_args=''</em>, <em>tag=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#IPerfServer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts iperf server on specified port.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>extra_args</strong> &#8211; A string representing extra arguments to start iperf
server with.</li>
<li><strong>tag</strong> &#8211; Appended to log file name to identify logs from different
iperf runs.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.iperf_server.IPerfServer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#IPerfServer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.IPerfServer.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mobly.controllers.iperf_server.create">
<code class="descclassname">mobly.controllers.iperf_server.</code><code class="descname">create</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mobly.controllers.iperf_server.destroy">
<code class="descclassname">mobly.controllers.iperf_server.</code><code class="descname">destroy</code><span class="sig-paren">(</span><em>objs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/iperf_server.html#destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.iperf_server.destroy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mobly.controllers.monsoon">
<span id="mobly-controllers-monsoon-module"></span><h2>mobly.controllers.monsoon module<a class="headerlink" href="#module-mobly.controllers.monsoon" title="Permalink to this headline">¶</a></h2>
<p>Interface for a USB-connected Monsoon power meter
(<a class="reference external" href="http://msoon.com/LabEquipment/PowerMonitor/">http://msoon.com/LabEquipment/PowerMonitor/</a>).</p>
<dl class="class">
<dt id="mobly.controllers.monsoon.Monsoon">
<em class="property">class </em><code class="descclassname">mobly.controllers.monsoon.</code><code class="descname">Monsoon</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The wrapper class for test scripts to interact with monsoon.</p>
<dl class="method">
<dt id="mobly.controllers.monsoon.Monsoon.attach_device">
<code class="descname">attach_device</code><span class="sig-paren">(</span><em>dut</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon.attach_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.attach_device" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach the controller object for the Device Under Test (DUT)
physically attached to the Monsoon box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dut</strong> &#8211; A controller object representing the device being powered by
this Monsoon box.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.Monsoon.measure_power">
<code class="descname">measure_power</code><span class="sig-paren">(</span><em>hz</em>, <em>duration</em>, <em>tag</em>, <em>offset=30</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon.measure_power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.measure_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure power consumption of the attached device.</p>
<p>Because it takes some time for the device to calm down after the usb
connection is cut, an offset is set for each measurement. The default
is 30s. The total time taken to measure will be (duration + offset).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hz</strong> &#8211; Number of samples to take per second.</li>
<li><strong>duration</strong> &#8211; Number of seconds to take samples for in each step.</li>
<li><strong>offset</strong> &#8211; The number of seconds of initial data to discard.</li>
<li><strong>tag</strong> &#8211; A string that&#8217;s the name of the collected data group.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A MonsoonData object with the measured power data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.Monsoon.set_max_current">
<code class="descname">set_max_current</code><span class="sig-paren">(</span><em>cur</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon.set_max_current"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.set_max_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets monsoon&#8217;s max output current.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cur</strong> &#8211; The max current in A.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.Monsoon.set_max_init_current">
<code class="descname">set_max_init_current</code><span class="sig-paren">(</span><em>cur</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon.set_max_init_current"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.set_max_init_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the max power-up/inital current.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cur</strong> &#8211; The max initial current allowed in mA.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.Monsoon.set_voltage">
<code class="descname">set_voltage</code><span class="sig-paren">(</span><em>volt</em>, <em>ramp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon.set_voltage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.set_voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the output voltage of monsoon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>volt</strong> &#8211; Voltage to set the output to.</li>
<li><strong>ramp</strong> &#8211; If true, the output voltage will be increased gradually to
prevent tripping Monsoon overvoltage.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.Monsoon.status">
<code class="descname">status</code><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the status params of monsoon.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary where each key-value pair represents a monsoon status
param.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.Monsoon.take_samples">
<code class="descname">take_samples</code><span class="sig-paren">(</span><em>sample_hz</em>, <em>sample_num</em>, <em>sample_offset=0</em>, <em>live=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#Monsoon.take_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.take_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Take samples of the current value supplied by monsoon.</p>
<p>This is the actual measurement for power consumption. This function
blocks until the number of samples requested has been fulfilled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hz</strong> &#8211; Number of points to take for every second.</li>
<li><strong>sample_num</strong> &#8211; Number of samples to take.</li>
<li><strong>offset</strong> &#8211; The number of initial data points to discard in MonsoonData
calculations. sample_num is extended by offset to compensate.</li>
<li><strong>live</strong> &#8211; Print each sample in console as measurement goes on.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A MonsoonData object representing the data obtained in this
sampling. None if sampling is unsuccessful.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.Monsoon.usb">
<code class="descname">usb</code><em class="property"> = &lt;timeout_decorator.timeout_decorator._Timeout object&gt;</em><a class="headerlink" href="#mobly.controllers.monsoon.Monsoon.usb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mobly.controllers.monsoon.MonsoonData">
<em class="property">class </em><code class="descclassname">mobly.controllers.monsoon.</code><code class="descname">MonsoonData</code><span class="sig-paren">(</span><em>data_points</em>, <em>timestamps</em>, <em>hz</em>, <em>voltage</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class for reporting power measurement data from monsoon.</p>
<p>Data means the measured current value in Amps.</p>
<dl class="attribute">
<dt id="mobly.controllers.monsoon.MonsoonData.average_current">
<code class="descname">average_current</code><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.average_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Average current in the unit of mA.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.MonsoonData.delimiter">
<code class="descname">delimiter</code><em class="property"> = '\n\n==========\n\n'</em><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.delimiter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="mobly.controllers.monsoon.MonsoonData.from_string">
<em class="property">static </em><code class="descname">from_string</code><span class="sig-paren">(</span><em>data_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData.from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a MonsoonData object from a string representation generated
by __str__.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>str</strong> &#8211; The string representation of a MonsoonData.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A MonsoonData object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mobly.controllers.monsoon.MonsoonData.from_text_file">
<em class="property">static </em><code class="descname">from_text_file</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData.from_text_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.from_text_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load MonsoonData objects from a text file generated by
MonsoonData.save_to_text_file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> &#8211; The full path of the file load from, including the file
name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of MonsoonData objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonData.get_average_record">
<code class="descname">get_average_record</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData.get_average_record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.get_average_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of average current numbers, each representing the
average over the last n data points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> &#8211; Number of data points to average over.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of average current values.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonData.get_data_with_timestamps">
<code class="descname">get_data_with_timestamps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData.get_data_with_timestamps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.get_data_with_timestamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data points with timestamps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of tuples in the format of (timestamp, data)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.MonsoonData.lr">
<code class="descname">lr</code><em class="property"> = 8</em><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.lr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="mobly.controllers.monsoon.MonsoonData.save_to_text_file">
<em class="property">static </em><code class="descname">save_to_text_file</code><span class="sig-paren">(</span><em>monsoon_data</em>, <em>file_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData.save_to_text_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.save_to_text_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save multiple MonsoonData objects to a text file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>monsoon_data</strong> &#8211; A list of MonsoonData objects to write to a text
file.</li>
<li><strong>file_path</strong> &#8211; The full path of the file to save to, including the file
name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.MonsoonData.sr">
<code class="descname">sr</code><em class="property"> = 6</em><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.sr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.MonsoonData.total_charge">
<code class="descname">total_charge</code><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.total_charge" title="Permalink to this definition">¶</a></dt>
<dd><p>Total charged used in the unit of mAh.</p>
</dd></dl>

<dl class="attribute">
<dt id="mobly.controllers.monsoon.MonsoonData.total_power">
<code class="descname">total_power</code><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.total_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Total power used.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonData.update_offset">
<code class="descname">update_offset</code><span class="sig-paren">(</span><em>new_offset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonData.update_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonData.update_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates how many data points to skip in caculations.</p>
<p>Always use this function to update offset instead of directly setting
self.offset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_offset</strong> &#8211; The new offset.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.monsoon.MonsoonError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.monsoon.</code><code class="descname">MonsoonError</code><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mobly.html#mobly.signals.ControllerError" title="mobly.signals.ControllerError"><code class="xref py py-class docutils literal"><span class="pre">mobly.signals.ControllerError</span></code></a></p>
<p>Raised for exceptions encountered in monsoon lib.</p>
</dd></dl>

<dl class="class">
<dt id="mobly.controllers.monsoon.MonsoonProxy">
<em class="property">class </em><code class="descclassname">mobly.controllers.monsoon.</code><code class="descname">MonsoonProxy</code><span class="sig-paren">(</span><em>device=None</em>, <em>serialno=None</em>, <em>wait=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class that directly talks to monsoon over serial.</p>
<p>Provides a simple class to use the power meter, e.g.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mon</span> <span class="o">=</span> <span class="n">monsoon</span><span class="o">.</span><span class="n">Monsoon</span><span class="p">()</span>
<span class="n">mon</span><span class="o">.</span><span class="n">SetVoltage</span><span class="p">(</span><span class="mf">3.7</span><span class="p">)</span>
<span class="n">mon</span><span class="o">.</span><span class="n">StartDataCollection</span><span class="p">()</span>
<span class="n">mydata</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">mydata</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
    <span class="n">mydata</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">mon</span><span class="o">.</span><span class="n">CollectData</span><span class="p">())</span>
<span class="n">mon</span><span class="o">.</span><span class="n">StopDataCollection</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.CollectData">
<code class="descname">CollectData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.CollectData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.CollectData" title="Permalink to this definition">¶</a></dt>
<dd><p>Return some current samples. Call StartDataCollection() first.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.GetStatus">
<code class="descname">GetStatus</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.GetStatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.GetStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests and waits for status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">status dictionary.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.GetUsbPassthrough">
<code class="descname">GetUsbPassthrough</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.GetUsbPassthrough"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.GetUsbPassthrough" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the USB passthrough mode: 0 = off, 1 = on,  2 = auto.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current USB passthrough mode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.GetVoltage">
<code class="descname">GetVoltage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.GetVoltage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.GetVoltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the output voltage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Current Output Voltage (in unit of v).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.RampVoltage">
<code class="descname">RampVoltage</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.RampVoltage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.RampVoltage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.SetMaxCurrent">
<code class="descname">SetMaxCurrent</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.SetMaxCurrent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.SetMaxCurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the max output current.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.SetMaxPowerUpCurrent">
<code class="descname">SetMaxPowerUpCurrent</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.SetMaxPowerUpCurrent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.SetMaxPowerUpCurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the max power up current.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.SetUsbPassthrough">
<code class="descname">SetUsbPassthrough</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.SetUsbPassthrough"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.SetUsbPassthrough" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the USB passthrough mode: 0 = off, 1 = on,  2 = auto.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.SetVoltage">
<code class="descname">SetVoltage</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.SetVoltage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.SetVoltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the output voltage, 0 to disable.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.StartDataCollection">
<code class="descname">StartDataCollection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.StartDataCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.StartDataCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the device to start collecting and sending measurement data.</p>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.monsoon.MonsoonProxy.StopDataCollection">
<code class="descname">StopDataCollection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#MonsoonProxy.StopDataCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.MonsoonProxy.StopDataCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the device to stop collecting measurement data.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mobly.controllers.monsoon.create">
<code class="descclassname">mobly.controllers.monsoon.</code><code class="descname">create</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.create" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mobly.controllers.monsoon.destroy">
<code class="descclassname">mobly.controllers.monsoon.</code><code class="descname">destroy</code><span class="sig-paren">(</span><em>objs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/monsoon.html#destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.monsoon.destroy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mobly.controllers.sniffer">
<span id="mobly-controllers-sniffer-module"></span><h2>mobly.controllers.sniffer module<a class="headerlink" href="#module-mobly.controllers.sniffer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mobly.controllers.sniffer.ActiveCaptureContext">
<em class="property">class </em><code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">ActiveCaptureContext</code><span class="sig-paren">(</span><em>sniffer</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#ActiveCaptureContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.ActiveCaptureContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class defines an object representing an active sniffer capture.</p>
<p>The object is returned by a Sniffer.start_capture() command and terminates
the capture when the &#8216;with&#8217; clause exits. It is syntactic sugar for
try/finally.</p>
</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.sniffer.ExecutionError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">ExecutionError</code><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#ExecutionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.ExecutionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mobly.controllers.sniffer.SnifferError" title="mobly.controllers.sniffer.SnifferError"><code class="xref py py-class docutils literal"><span class="pre">mobly.controllers.sniffer.SnifferError</span></code></a></p>
<p>This exception is thrown when trying to configure the capture device
or when trying to execute the capture operation.</p>
<p>When this exception is seen, it is possible that the sniffer module is run
without sudo (for local sniffers) or keys are out-of-date (for remote
sniffers).</p>
</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.sniffer.InvalidDataError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">InvalidDataError</code><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#InvalidDataError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.InvalidDataError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>This exception is thrown when invalid configuration data is passed
to a method.</p>
</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.sniffer.InvalidOperationError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">InvalidOperationError</code><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#InvalidOperationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.InvalidOperationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mobly.controllers.sniffer.SnifferError" title="mobly.controllers.sniffer.SnifferError"><code class="xref py py-class docutils literal"><span class="pre">mobly.controllers.sniffer.SnifferError</span></code></a></p>
<p>Certain methods may only be accessed when the instance upon which they
are invoked is in a certain state. This indicates that the object is not
in the correct state for a method to be called.</p>
</dd></dl>

<dl class="class">
<dt id="mobly.controllers.sniffer.Sniffer">
<em class="property">class </em><code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">Sniffer</code><span class="sig-paren">(</span><em>interface</em>, <em>logger</em>, <em>base_configs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class defines an object representing a sniffer.</p>
<p>The object defines the generic behavior of sniffers - irrespective of how
they are implemented, or where they are located: on the local machine or on
the remote machine.</p>
<dl class="attribute">
<dt id="mobly.controllers.sniffer.Sniffer.CONFIG_KEY_CHANNEL">
<code class="descname">CONFIG_KEY_CHANNEL</code><em class="property"> = 'channel'</em><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.CONFIG_KEY_CHANNEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.get_capture_file">
<code class="descname">get_capture_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.get_capture_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.get_capture_file" title="Permalink to this definition">¶</a></dt>
<dd><p>The sniffer places a capture in the logger directory. This function
enables the caller to obtain the path of that capture.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The full path of the current or last capture.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.get_descriptor">
<code class="descname">get_descriptor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.get_descriptor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.get_descriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns a string describing the sniffer. The specific
string (and its format) is up to each derived sniffer type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A string describing the sniffer.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.get_interface">
<code class="descname">get_interface</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.get_interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.get_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns The interface used to configure the sniffer,
e.g. &#8216;wlan0&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The interface (string) used to configure the sniffer. Corresponds to
the &#8216;Interface&#8217; key of the sniffer configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.get_subtype">
<code class="descname">get_subtype</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.get_subtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.get_subtype" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the sub-type of the sniffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The sub-type (string) of the sniffer. Corresponds to the &#8216;SubType&#8217;
key of the sniffer configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.get_type" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the type of the sniffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The type (string) of the sniffer. Corresponds to the &#8216;Type&#8217; key of
the sniffer configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.start_capture">
<code class="descname">start_capture</code><span class="sig-paren">(</span><em>override_configs=None</em>, <em>additional_args=None</em>, <em>duration=None</em>, <em>packet_count=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.start_capture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.start_capture" title="Permalink to this definition">¶</a></dt>
<dd><p>This function starts a capture which is saved to the specified file
path.</p>
<p>Depending on the type/subtype and configuration of the sniffer the
capture may terminate on its own or may require an explicit call to the
stop_capture() function.</p>
<p>This is a non-blocking function so a terminating function must be
called either explicitly or implicitly:</p>
<blockquote>
<div><ul>
<li><p class="first">Explicitly: call either stop_capture() or wait_for_capture()</p>
</li>
<li><dl class="first docutils">
<dt>Implicitly: use with a with clause. The wait_for_capture() function</dt>
<dd><p class="first last">will be called if a duration is specified (i.e. is not
None), otherwise a stop_capture() will be called.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The capture is saved to a file in the log path of the logger. Use
the get_capture_file() to get the full path to the current or most
recent capture.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>override_configs</strong> &#8211; A dictionary which is combined with the
base_configs (&#8220;BaseConfigs&#8221; in the sniffer configuration). The
keys (specified by Sniffer.CONFIG_KEY_*) determine the
configuration of the sniffer for this specific capture.</li>
<li><strong>additional_args</strong> &#8211; A string specifying additional raw
command-line arguments to pass to the underlying sniffer. The
interpretation of these flags is sniffer-dependent.</li>
<li><strong>duration</strong> &#8211; An integer specifying the number of seconds over which to
capture packets. The sniffer will be terminated after this
duration. Used in implicit mode when using a &#8216;with&#8217; clause. In
explicit control cases may have to be performed using a
sleep+stop or as the timeout argument to the wait function.</li>
<li><strong>packet_count</strong> &#8211; An integer specifying the number of packets to capture
before terminating. Should be used with duration to guarantee
that capture terminates at some point (even if did not capture
the specified number of packets).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An ActiveCaptureContext process which can be used with a &#8216;with&#8217;
clause.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#mobly.controllers.sniffer.InvalidDataError" title="mobly.controllers.sniffer.InvalidDataError"><code class="xref py py-exc docutils literal"><span class="pre">InvalidDataError</span></code></a> &#8211;
for invalid configurations</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">NoPermissionError</span></code> &#8211;
if an error occurs while configuring and running
the sniffer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.stop_capture">
<code class="descname">stop_capture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.stop_capture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.stop_capture" title="Permalink to this definition">¶</a></dt>
<dd><p>This function stops a capture and guarantees that the capture is
saved to the capture file configured during the start_capture() method.
Depending on the type of the sniffer the file may previously contain
partial results (e.g. for a local sniffer) or may not exist until the
stop_capture() method is executed (e.g. for a remote sniffer).</p>
<p>Depending on the type/subtype and configuration of the sniffer the
capture may terminate on its own without requiring a call to this
function. In such a case it is still necessary to call either this
function or the wait_for_capture() function to make sure that the
capture file is moved to the correct location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NoPermissionError</span></code> &#8211;
No permission when trying to stop a capture
and save the capture file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mobly.controllers.sniffer.Sniffer.wait_for_capture">
<code class="descname">wait_for_capture</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#Sniffer.wait_for_capture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.Sniffer.wait_for_capture" title="Permalink to this definition">¶</a></dt>
<dd><p>This function waits for a capture to terminate and guarantees that
the capture is saved to the capture file configured during the
start_capture() method. Depending on the type of the sniffer the file
may previously contain partial results (e.g. for a local sniffer) or
may not exist until the stop_capture() method is executed (e.g. for a
remote sniffer).</p>
<p>Depending on the type/subtype and configuration of the sniffer the
capture may terminate on its own without requiring a call to this
function. In such a case it is still necessary to call either this
function or the stop_capture() function to make sure that the capture
file is moved to the correct location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> &#8211; An integer specifying the number of seconds to wait for
the capture to terminate on its own. On expiration of the
timeout the sniffer is stopped explicitly using the
stop_capture() function.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">NoPermissionError</span></code> &#8211;
No permission when trying to stop a capture and
save the capture file.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mobly.controllers.sniffer.SnifferError">
<em class="property">exception </em><code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">SnifferError</code><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#SnifferError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.SnifferError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>This is the Exception class defined for all errors generated by
Sniffer-related modules.</p>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.sniffer.create">
<code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">create</code><span class="sig-paren">(</span><em>configs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the sniffer structures based on the JSON configuration. The
expected keys are:</p>
<blockquote>
<div><dl class="docutils">
<dt>Type: A first-level type of sniffer. Planned to be &#8216;local&#8217; for sniffers</dt>
<dd>running on the local machine, or &#8216;remote&#8217; for sniffers running
remotely.</dd>
</dl>
<p>SubType: The specific sniffer type to be used.</p>
<p>Interface: The WLAN interface used to configure the sniffer.</p>
<dl class="docutils">
<dt>BaseConfigs: A dictionary specifying baseline configurations of the</dt>
<dd>sniffer. Configurations can be overridden when starting a capture.
The keys must be one of the Sniffer.CONFIG_KEY_* values.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="mobly.controllers.sniffer.destroy">
<code class="descclassname">mobly.controllers.sniffer.</code><code class="descname">destroy</code><span class="sig-paren">(</span><em>objs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mobly/controllers/sniffer.html#destroy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mobly.controllers.sniffer.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroys the sniffers and terminates any ongoing capture sessions.</p>
</dd></dl>

</div>
<div class="section" id="module-mobly.controllers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mobly.controllers" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mobly.controllers package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-mobly.controllers.android_device">mobly.controllers.android_device module</a></li>
<li><a class="reference internal" href="#module-mobly.controllers.attenuator">mobly.controllers.attenuator module</a></li>
<li><a class="reference internal" href="#module-mobly.controllers.iperf_server">mobly.controllers.iperf_server module</a></li>
<li><a class="reference internal" href="#module-mobly.controllers.monsoon">mobly.controllers.monsoon module</a></li>
<li><a class="reference internal" href="#module-mobly.controllers.sniffer">mobly.controllers.sniffer module</a></li>
<li><a class="reference internal" href="#module-mobly.controllers">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="mobly.html">mobly package</a><ul>
      <li>Previous: <a href="mobly.html" title="previous chapter">mobly package</a></li>
      <li>Next: <a href="mobly.controllers.android_device_lib.html" title="next chapter">mobly.controllers.android_device_lib package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/mobly.controllers.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Copyright 2016 Google Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/mobly.controllers.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>